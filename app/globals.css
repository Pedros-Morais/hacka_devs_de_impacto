/* RotaSocial Global Styles */
@import "tailwindcss";

:root {
  /* Paleta institucional */
  --rs-blue: #2B6CB0; /* primária */
  --rs-green: #48BB78; /* ações/sucesso */
  --rs-yellow: #ECC94B; /* atenção/destaque */
  --rs-gray-light: #EDF2F7; /* fundo */
  --rs-gray-dark: #2D3748; /* texto */

  --background: var(--rs-gray-light);
  --foreground: var(--rs-gray-dark);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-inter, Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif);
}

/* Navbar */
.navbar { position: sticky; top: 0; z-index: 100; background: var(--rs-blue); color: #fff; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
.navbar:hover { filter: brightness(1.03); box-shadow: 0 4px 14px rgba(0,0,0,0.18); }
.navbar-inner { display: flex; align-items: center; justify-content: space-between; padding: 0.75rem 1rem; }
.navbar-title { font-weight: 800; letter-spacing: 0.2px; cursor: pointer; }
.navbar-link { color: #fff; text-decoration: none; font-weight: 600; opacity: 0.9; }
.navbar-link:hover { opacity: 1; text-decoration: underline; }
.navbar-logo { border-radius: 6px; box-shadow: 0 0 0 3px rgba(255,255,255,0.18); }

/* Acessibilidade */
:focus-visible { outline: 2px solid var(--rs-yellow); outline-offset: 2px; }

/* Componentes básicos */
.container { max-width: 1200px; margin: 0 auto; padding: 1rem; }
.toolbar { display: grid; gap: 0.75rem; }
.input, .select { width: 100%; padding: 0.5rem 0.75rem; border: 1px solid #cbd5e0; border-radius: 6px; background: #fff; color: var(--rs-gray-dark); }
.input:focus, .select:focus { border-color: var(--rs-blue); box-shadow: 0 0 0 3px rgba(43,108,176,0.2); outline: none; }
.btn { display: inline-flex; align-items: center; justify-content: center; padding: 0.5rem 0.75rem; border-radius: 6px; font-weight: 600; border: none; cursor: pointer; transition: transform 120ms ease, box-shadow 120ms ease; }
.btn:hover { transform: translateY(-1px); box-shadow: 0 3px 10px rgba(0,0,0,0.08); }
.btn-primary { background: var(--rs-blue); color: #fff; }
.btn-primary:hover { background: #255a94; }
.btn-success { background: var(--rs-green); color: #fff; }
.btn-success:hover { background: #3aa667; }
.btn-warning { background: #d69e2e; color: #fff; text-shadow: 0 1px 0 rgba(0,0,0,0.25); }
.btn-warning:hover { background: #b7791f; }
.btn-ghost { background: transparent; color: var(--rs-blue); }
.btn-ghost:hover { background: rgba(43,108,176,0.08); }
.btn:disabled { opacity: 0.6; cursor: not-allowed; }

/* Icon sizes inside tabs and buttons align nicely */
.tab .icon, .btn .icon { width: 18px; height: 18px; margin-right: 6px; }

.grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1rem; }

/* Card base + UX improvements */
.card { background: #fff; border: 1px solid #e2e8f0; border-radius: 10px; padding: 0.75rem; box-shadow: 0 1px 2px rgba(0,0,0,0.04); position: relative; transition: transform 200ms ease, box-shadow 200ms ease, border-color 200ms ease; will-change: transform, box-shadow; cursor: pointer; }
.card:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(0,0,0,0.10); border-color: rgba(43,108,176,0.25); }
.card:focus-visible { outline: 2px solid var(--rs-blue); outline-offset: 2px; }
.card::before { content: ""; position: absolute; left: 0; right: 0; top: 0; height: 3px; border-top-left-radius: 10px; border-top-right-radius: 10px; pointer-events: none; background: linear-gradient(90deg, var(--rs-blue), var(--rs-green), var(--rs-yellow), var(--rs-blue)); background-size: 220% 220%; opacity: 0; }
.card:hover::before { opacity: 1; animation: cardSweep 900ms ease; }
@keyframes cardSweep { 0% { background-position: 0% 50%; } 100% { background-position: 100% 50%; } }
.card-header { display: flex; align-items: center; justify-content: space-between; }
/* Card footer alignment for consistent icon centering */
.card-footer { display: flex; gap: 0.5rem; flex-wrap: wrap; justify-content: flex-end; align-items: center; }

/* Avatar with initial */
.avatar { width: 28px; height: 28px; border-radius: 999px; display: inline-flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.9rem; color: #fff; background: var(--rs-blue); box-shadow: 0 0 0 2px rgba(43,108,176,0.15); }

/* Badges */
.badge { display: inline-flex; align-items: center; padding: 0.25rem 0.5rem; border-radius: 999px; font-weight: 600; font-size: 0.75rem; }
.badge-await { background: #ebf8ff; color: var(--rs-blue); }
.badge-progress { background: #f0fff4; color: var(--rs-green); }
.badge-done { background: #fffaf0; color: var(--rs-yellow); }

/* Chips */
.chip { display: inline-flex; align-items: center; gap: 0.35rem; border: 1px solid #cbd5e0; border-radius: 999px; padding: 0.25rem 0.6rem; font-size: 0.8rem; background: #fff; color: var(--rs-gray-dark); transition: background 120ms ease, color 120ms ease, border-color 120ms ease; }
.chip:hover { border-color: var(--rs-blue); }
.chip[aria-pressed="true"] { background: var(--rs-blue); color: #fff; border-color: var(--rs-blue); }
.chip-dot { width: 8px; height: 8px; border-radius: 999px; box-shadow: 0 0 0 2px rgba(43,108,176,0.12); }

/* Sidepanel (drawer) */
.sidepanel { position: fixed; top: 0; right: 0; width: 100%; max-width: 480px; height: 100%; background: #fff; border-left: 2px solid #e2e8f0; box-shadow: -4px 0 12px rgba(0,0,0,0.08); display: flex; flex-direction: column; z-index: 200; }
.sidepanel-header { padding: 1rem; border-bottom: 1px solid #e2e8f0; }
.sidepanel-body { padding: 1rem; overflow: auto; flex: 1; display: grid; gap: 0.75rem; }
.sidepanel-footer { padding: 0.75rem; border-top: 1px solid #e2e8f0; display: flex; gap: 0.5rem; flex-wrap: wrap; }

/* Sections */
.section { background: #f7fafc; border: 1px solid #e2e8f0; border-radius: 10px; padding: 0.75rem; }
.section-title { font-weight: 700; color: var(--rs-blue); margin-bottom: 0.5rem; }

/* Tabs alignment */
.tabs { display: flex; gap: 0.5rem; border-bottom: 1px solid #e2e8f0; }
.tab { display: inline-flex; align-items: center; gap: 6px; padding: 6px 8px; border-bottom: 2px solid transparent; color: var(--rs-gray-dark); background: transparent; }
.tab-active { color: var(--rs-blue); border-bottom-color: var(--rs-blue); }

/* Timeline */
.timeline { position: relative; margin-top: 0.5rem; }
.timeline-line { position: absolute; left: 9px; top: 0; bottom: 0; width: 2px; background: #e2e8f0; }
.timeline-item { position: relative; padding-left: 24px; margin: 0.5rem 0 0.75rem; }
.timeline-dot { position: absolute; left: 3px; top: 10px; width: 12px; height: 12px; border-radius: 999px; background: var(--rs-blue); border: 2px solid #fff; box-shadow: 0 0 0 1px #e2e8f0; }
.timeline-dot.success { background: var(--rs-green); }
.timeline-dot.warning { background: var(--rs-yellow); }
.timeline-dot.gray { background: #a0aec0; }
.timeline-card { background: #fff; border: 1px solid #e2e8f0; border-radius: 8px; padding: 0.5rem; }
.timeline-title { font-weight: 600; color: var(--rs-gray-dark); }
.timeline-date { color: #718096; font-size: 12px; }
.timeline-desc { margin-top: 4px; }

/* Map mini */
.mapmini { height: 140px; border: 1px solid #e2e8f0; border-radius: 8px; background: #f7fafc; position: relative; overflow: hidden; }
.mapmini::before { content: ""; position: absolute; inset: 0; background-image: radial-gradient(#e2e8f0 1px, transparent 1px); background-size: 10px 10px; opacity: 0.4; }
.mapmini-pin { position: absolute; width: 10px; height: 10px; border-radius: 50%; background: var(--rs-blue); box-shadow: 0 0 0 3px rgba(43,108,176,0.2); }
.mapmini-label { position: absolute; right: 8px; top: 8px; background: rgba(255,255,255,0.9); border: 1px solid #e2e8f0; border-radius: 6px; padding: 2px 6px; font-size: 12px; color: var(--rs-gray-dark); }
.mapmini-empty { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); color: #718096; font-size: 13px; }

/* Risk bar */
.risk-bar { height: 6px; border-radius: 999px; background: #e2e8f0; overflow: hidden; }
.risk-fill { height: 100%; background: var(--rs-blue); transition: width 160ms ease, background 160ms ease; }

/* Chat estilo WhatsApp */
.wa-messages { display: flex; flex-direction: column; gap: 4px; }
.wa-bubble { max-width: 75%; padding: 8px 12px; border-radius: 18px; position: relative; font-size: 0.95rem; }
.wa-in { background: #fff; color: var(--rs-gray-dark); align-self: flex-start; border: 1px solid #e2e8f0; }
.wa-out { background: var(--rs-green); color: #fff; align-self: flex-end; }
.wa-in::after { content: ""; position: absolute; left: -6px; bottom: 0; width: 10px; height: 10px; background: #fff; border-left: 1px solid #e2e8f0; border-bottom: 1px solid #e2e8f0; border-bottom-left-radius: 10px; transform: rotate(45deg); }
.wa-out::after { content: ""; position: absolute; right: -6px; bottom: 0; width: 10px; height: 10px; background: var(--rs-green); border-bottom-right-radius: 10px; transform: rotate(45deg); }
.wa-time { font-size: 0.75rem; opacity: 0.8; margin-top: 2px; }

/* Mensagens antigas (fallback) */
.message { max-width: 75%; padding: 0.5rem 0.75rem; border-radius: 10px; margin-bottom: 0.5rem; }
.message-voluntario { background: #ebf8ff; color: var(--rs-blue); align-self: flex-end; }
.message-familia { background: #f0fff4; color: var(--rs-gray-dark); align-self: flex-start; }
.message-sistema { background: #fffaf0; color: #744210; align-self: center; }
.messages { display: flex; flex-direction: column; }

/* Empty state */
.empty { padding: 1rem; background: #fff; border: 1px dashed #cbd5e0; color: var(--rs-gray-dark); border-radius: 8px; text-align: center; }

/* Chat input bar improvements */
.chat-bar { display: flex; gap: 0.5rem; align-items: center; position: sticky; bottom: 0; background: #fff; padding-top: 0.5rem; border-top: 1px solid #e2e8f0; justify-content: flex-end; }
.chat-input { flex: 0 0 420px; max-width: 100%; height: 44px; border: 1px solid #cbd5e0; border-radius: 10px; padding: 0 12px; background: #ffffff; }
.chat-input::placeholder { color: #718096; }
.chat-input:focus { outline: none; border-color: var(--rs-blue); box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.25); }
.chat-send { height: 44px; border-radius: 10px; display: flex; align-items: center; gap: 0.5rem; }

/* Input with embedded icon */
.input-with-icon { position: relative; }
.input-icon { position: absolute; left: 10px; top: 50%; transform: translateY(-50%); width: 18px; height: 18px; color: var(--rs-gray-dark); }
.input-has-icon { padding-left: 34px; }

/* Icon-only buttons */
.btn-icon { width: 44px; height: 44px; padding: 0; border-radius: 10px; display: inline-flex; align-items: center; justify-content: center; }
.btn-icon .icon { margin-right: 0; width: 20px; height: 20px; display: block; }
.btn-success.btn-icon { box-shadow: 0 0 0 0 rgba(72,187,120,0.0); transition: box-shadow 160ms ease, transform 160ms ease; }
.btn-success.btn-icon:hover { transform: translateY(-1px); box-shadow: 0 0 0 6px rgba(72,187,120,0.18); }

/* Plain icon control (no button box) */
.icon-plain { width: 44px; height: 44px; display: inline-flex; align-items: center; justify-content: center; background: transparent; border: none; padding: 0; border-radius: 10px; cursor: pointer; color: inherit; }
.icon-plain .icon { width: 20px; height: 20px; }
.icon-plain.success { color: var(--rs-green); }
.icon-plain.success:hover { box-shadow: 0 0 0 6px rgba(72,187,120,0.15); }
.icon-plain.danger { color: #e53e3e; }
.icon-plain.danger:hover { box-shadow: 0 0 0 6px rgba(229,62,62,0.15); }
.icon-plain:active { transform: translateY(1px); }

/* Marca hover effect (RotaSocial) */
.navbar-title:hover { background: linear-gradient(90deg, var(--rs-blue), var(--rs-green), var(--rs-yellow), var(--rs-blue)); background-size: 250% 250%; -webkit-background-clip: text; background-clip: text; color: transparent; animation: rsSweep 1200ms ease forwards; }
@keyframes rsSweep { 0% { background-position: 0% 50%; } 100% { background-position: 100% 50%; } }

/* Realce suave no logo ao pairar */
.navbar-logo:hover { box-shadow: 0 0 0 3px rgba(255,255,255,0.55), 0 0 12px rgba(72,187,120,0.45), 0 0 18px rgba(236,201,75,0.35); transform: scale(1.05); }

/* Toolbar context for popover positioning */
.toolbar { position: relative; display: grid; gap: 0.75rem; }

/* Select: custom arrow + consistent appearance */
.select { -webkit-appearance: none; -moz-appearance: none; appearance: none; padding-right: 2rem; background-repeat: no-repeat; background-position: right 10px center; background-size: 16px 16px; background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='%23718096' d='M7 10l5 5 5-5z'/></svg>"); }
.select:focus { border-color: var(--rs-blue); box-shadow: 0 0 0 3px rgba(66,153,225,0.25); outline: none; }

/* Input clear button inside input-with-icon */
.input-clear { position: absolute; right: 8px; top: 50%; transform: translateY(-50%); width: 28px; height: 28px; border: 1px solid #e2e8f0; border-radius: 8px; background: #fff; color: #718096; display: inline-flex; align-items: center; justify-content: center; transition: box-shadow 120ms ease, transform 120ms ease; }
.input-clear:hover { box-shadow: 0 0 0 4px rgba(66,153,225,0.15); }
.input-clear:active { transform: translateY(-50%) translateY(1px); }

/* Filter popover panel */
.filter-popover { position: absolute; left: 0; top: calc(100% + 6px); width: min(100%, 720px); background: #fff; border: 1px solid #e2e8f0; border-radius: 10px; box-shadow: 0 10px 24px rgba(0,0,0,0.12); padding: 0.75rem; z-index: 30; }
.filter-popover::before { content: ""; position: absolute; inset: 0; background-image: radial-gradient(#e2e8f0 1px, transparent 1px); background-size: 10px 10px; opacity: 0.4; }
.filter-popover-pin { position: absolute; width: 10px; height: 10px; border-radius: 50%; background: var(--rs-blue); box-shadow: 0 0 0 3px rgba(43,108,176,0.2); }
.filter-popover-label { position: absolute; right: 8px; top: 8px; background: rgba(255,255,255,0.9); border: 1px solid #e2e8f0; border-radius: 6px; padding: 2px 6px; font-size: 12px; color: var(--rs-gray-dark); }
.filter-popover-empty { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); color: #718096; font-size: 13px; }

/* Modal styles removed as main screen no longer uses dialogs */

/* Red icon-only button adjustments */
.icon-plain { border: none; background: transparent; padding: 8px; border-radius: 8px; cursor: pointer; }
.icon-plain:hover { background: rgba(240, 244, 248, 0.7); }
.icon-plain .icon { width: 18px; height: 18px; }
.icon-plain.danger { color: #e53935; }

/* Primary button tweaks for modal actions */
.btn-primary { background: #2563eb; color: #fff; border: none; border-radius: 8px; height: 36px; padding: 0 14px; font-weight: 600; }
.btn-primary:hover { background: #1e4fd6; }

@keyframes modalIn { from { transform: translateY(8px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

/* TikTok-like vertical feed */
.feed { height: calc(100vh - 160px); overflow-y: auto; scroll-snap-type: y mandatory; -webkit-overflow-scrolling: touch; overscroll-behavior-y: contain; scrollbar-width: thin; }
.feed-item { scroll-snap-align: start; min-height: 88vh; display: grid; place-items: center; padding: 8px 0; }
.feed .card { width: min(960px, 92vw); }
.btn:hover { transform: translateY(-1px); box-shadow: 0 3px 10px rgba(0,0,0,0.08); }
.btn-primary { background: #2563eb; color: #fff; border: none; border-radius: 8px; height: 36px; padding: 0 14px; font-weight: 600; }
.btn-primary:hover { background: #1e4fd6; }

@keyframes modalIn { from { transform: translateY(8px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
